title: ディレクティブ
type: api
order: 6
---

## リアクティブ・ディレクティブ

> このディレクティブは、それ自身を Vue インスタンスのプロパティやインスタンスの文脈の中で評価される表現にバインドすることができます。配下のプロパティや表現の値が変更されたら、それらのディレクティブの `update()` 関数が同期的に呼ばれます。

### v-text

ある要素の`textContent`を更新します。

内部的には、&#123;&#123; 中括弧 &#125;&#125; 表現も textNode 上の `v-text` ディレクティブとしてコンパイルされます。

### v-html

ある要素の `innerHTML` を更新します。

<p class="tip">ユーザによって与えられるデータを含む `v-html` は、危険な可能性があります。データソースのセキュリティが安全であると保証される場合は `v-html` を使うことを勧めますが、それ以外の場合はパイプ(|)を使用して、信頼できない HTML をサニタイズするカスタムフィルタを使用することをお勧めします。</p>

### v-show

- このディレクティブは、表示切り替えのトリガーになります。

バインディングの値の真偽値に応じて、要素の display を `none` にしたり、その要素の元の値にしたりします。

### v-class

- このディレクティブは、オプションの引数を受け入れます。

もし何も属性が与えられなかった場合、このディレクティブは要素の classList にバインディングの値を追加し、値が変更されたときに class が更新されます。

もしディレクティブの属性が与えられたら、その属性はバインディングの値の真偽値に応じてトグルする class になります。複数項目の記法と併せると、非常に便利になります:

``` html
<span v-class="
  red    : hasError,
  bold   : isImportant,
  hidden : isHidden
"></span>
```

### v-attr

- このディレクティブは、ひとつの属性が必要となります。

要素の(属性によって指定された)設定値を更新します。

**例:**

``` html
<canvas v-attr="width:w, height:h"></canvas>
```

内部的には、&#123;&#123; 中括弧({}) &#125;&#125; 表現の中の引数を computed `v-attr` ディレクティブにコンパイルします。

<p class="tip"> `<img>` 要素上の `src` 要素を設定するときには、中括弧バインディングの代わりに `v-attr` を使用するべきです。テンプレートは Vue.js によってコンパイルされる前にブラウザによってパースされるので、ブラウザがイメージの URL を取得しようとしたときに、中括弧バインディングは404エラーの原因になり得ます。</p>

### v-style

- このディレクティブは、オプションの引数を受け入れます。

要素にインライン CSS スタイルを適用します。

引数がないときは、結び付けられた値は String 型にも Object 型にもなり得ます。

- もし String 型の場合、要素の `style.cssText` として設定されます。
- もし Object 型の場合、それぞれの key/value ペアは要素の `style` オブジェクトに設定されます。

**例:**

``` html
<div v-style="myStyles"></div>
```

``` js
// myStyles はStringにもなり得ます
"color:red; font-weight:bold;"
// もしくはObject:
{
  color: 'red',
  // camelCase でも dash-case でも動きます
  fontWeight: 'bold',
  'font-size': '2em'
}
```

引数があるときは、適用する CSS のプロパティとして使用されます。複数項目の表現と併せて、複数のプロパティを同時に設定することができます:

**例:**

``` html
<div v-style="
  top: top + 'px',
  left: left + 'px',
  background-color: 'rgb(0,0,' + bg + ')'
"></div>
```

`v-style` も賢く、ブラウザベンダーの接頭辞を特定します。したがって、接頭辞を使わない方法が使えます:

``` html
<!-- 例えば、必要であれば -webkit-transform を使用する -->
<div v-style="transform: 'scale(' + scale + ')'"></div>
```

<p class="tip"> Internet Exploler では、バージョンに関係なく、HTML のパージングの際に不適切なインラインスタイルを削除してしまうため、`style` 要素の中に中括弧({})バインディングを指定する代わりに、 `v-style` を使用することをお勧めします。</p>

### v-on

- このディレクティブはひとつの要素を必要とします。
- このディレクティブは、関数かステートメントになり得る値を必要とします。

要素にイベントリスナーを割り当てます。イベントタイプは引数によって記述されます。 `key` フィルターと一緒に使用することができる唯一のディレクティブです。詳しくは、[イベントの監視](/guide/events.html)を参照してください。

### v-model

- このディレクティブは `<input>` 、`<select>` もしくは `<textarea>` 要素においてのみ使用できます。
- ディレクティブのパラメーター:  `lazy`, `number`, `options`

form の input 要素に双方向バインディングを作成します。データはデフォルトでは `input` イベント毎に同期されます。
より詳しい例は、[フォームの取り扱い](/guide/forms.html)を参照してください。

### v-if

- このディレクティブは、表示切り替えのトリガーになります。

バインディングの値の真偽値に基いて要素の挿入や削除を行います。もし要素が `<template>` 要素であれば、その内容は状態ブロックとして抽出されます。


**例:**

``` html
<template v-if="test">
  <p>hello</p>
  <p>world</p>
</template>
```

は、以下を生成します:

``` html
<!--v-if-start-->
<p>hello</p>
<p>world</p>
<!--v-if-end-->
```

### v-repeat

- このディレクティブは、Vue の子インスタンスを作成します。
- このディレクティブの値は Array 型、Object 型、もしくは Number 型である必要があります。
- このディレクティブは表示切り替えのトリガーとなり得ます。
- このディレクティブは、オプション属性を受け入れます。
- ディレクティブパラメータ: `trackby`

Array もしくは Object のバインディングのすべてのアイテムの子 ViewModel を作ります。もし値が絶対値であれば、その分の ViewModelが作成されます。それらの子ViewModel は、mutating methods、例えば `push()` などが Array や Object 上で呼ばれたときや、その数が増減したときに自動的に生成、削除されます。

引数が何も与えられなかったとき、子 ViewModel は継承された Array の中の要素を `$data` として直接使用します。もし値が Object でなければ、ラッパーのデータオブジェクトが作られ、エイリアスキー `$value` を使用しているオブジェクトにその値がセットされます。

**例:**

``` html
<ul>
  <li v-repeat="users">
    {{name}} {{email}}
  </li>
</ul>
```

引数が与えられたときは、エイリアスキーを引数の文字列としてラッパーのデータオブジェクトが常に作られます。これにより、テンプレート内でのより明示的なプロパティへのアクセスが可能になります:

``` html
<ul>
  <li v-repeat="user : users">
    {{user.name}} {{user.email}}
  </li>
</ul>
```

より詳しい説明は、[リストの表示](/guide/list.html)を参照してください。

### v-with

- このディレクティブは、`v-component` とのみ使用されます。
- このディレクティブは、keypath のみを受けつけ、expression はありません。

子 ViewModel が親からデータを受け取ることができるようにします。`data` オプションとして使用されるオブジェクトの中で渡すことも可能であるし、個々の親のプロパティを異なるキーで子供に結びつけることも可能です。このディレクティブは、`v-component` とともに使用されなければなりません。

オブジェクトの継承の例:

``` js
// 親のデータが以下のようだとします
{
  user: {
    name: 'Foo Bar',
    email: 'foo@bar.com'
  }
}
```

``` html
<my-component v-with="user">
  <!-- `user`がなくてもプロパティにアクセスできます -->
  {{name}} {{email}}
</my-component>
```

個別のプロパティを継承している例（同じデータを使用）:

``` 
<my-component v-with="myName: user.name, myEmail: user.email">
  <!-- 新しいキーで、プロパティにアクセスできる -->
  {{myName}} {{myEmail}}
</my-component>
```

### v-events

- このディレクティブは、`v-component` とのみ使用されます。
- このディレクティブは keypath のみを受けつけ、expression はありません。

親インスタンスが子インスタンス上でのイベントを監視できるようにします。`v-on` と異なる点は、`v-events` はDOMイベントというよりはむしろ、`vm.$emit()` 経由で作られたVueのコンポーネントシステムのイベントを監視するという点です。このディレクティブは、親のコンポーネントにイベントリスナーをハードコードすることなく、親子がより分離された通信をすることを可能にします。`v-component` と共に使用する必要があることに注意してください。例えば、子コンポーネントの root 要素では以下のようになります。

**例:**

``` html
<!-- 親テンプレートの中身 -->
<div v-component="child" v-events="change: onChildChange"></div>
```

子要素が `this.$emit('change', ...)` を呼ぶとき、親の `onChildChange` が `$emit()` からきたオプションの引数が渡された状態で呼び出されます。

## リテラルディレクティブ

> リテラルディレクティブはその要素の値を素の文字列として取り扱い、何ともバインドしようとしません。このディレクティブが行うのは、文字列の値を `bind()` 関数に渡して実行することだけです。リテラルディレクティブはその値の中で中括弧表現を使用できますが、それらの表現は最初のコンパイルの際に一度だけ評価され、データの変更に対して反応しません。

### v-component

- ディレクティブパラメーター: `keep-alive`, `wait-for`, `transition-mode`

割り当てられたコンポーネントコンストラクタをもつ子 ViewModel として、この要素をコンパイルします。これは、親からデータを継承するために、`v-with` と共に使用することができます。より詳細な説明は、[コンポーネントシステム](/guide/components.html)を参照してください。

### v-ref

簡単にアクセス可能なように、親に子コンポーネントへの参照を登録します。`v-component` や `v-repeat` を組み合わせて動きます。そのコンポーネントのインスタンスは、その親の `$` オブジェクトへアクセス可能です。例は、 [子リファレンス](/guide/components.html#Child_Reference)を参照してください。

`v-repeat` と共に使用するとき、値はそれにバウンドしている配列に対応するすべての子 Vue インスタンスを含む配列になります。

### v-el

簡単にアクセス可能にするために、親のVueインスタンス上で DOM 要素へのリファレンスを登録します。例えば、`<div v-el="hi">` は `vm.$$.hi` としてアクセス可能です。

### v-partial

登録された部分要素で、要素の innerHTML を置き換えます。部分要素は、`Vue.partial()` で登録するか、`partials` オプションの中に渡すことができます。

`v-partial` の中で中括弧タグを使用して反応的にします:

``` html
<!-- 内容は、vm.partialIdに基づいて変わります -->
<div v-partial="{{partialId}}"></div>
```

この文法も使用できます（反応性はサポートされません）:

``` html
<div>{{> my-partial}}</div> 
```

### v-transition

Vue.js に対してこの要素への変換を適用することを知らせます。変換クラスは、ある変換のきっかけとなるディレクティブが要素を修正したときか、Vue インスタンスの DOM 生成メソッドが呼ばれたときに適用されます。

より詳しくは、[the guide to transitions](/guide/transitions.html)を参照してください。

## 空のディレクティブ

> 空のディレクティブは属性値が必須ではなく、無視します。

### v-pre

この要素とすべての子要素のコンパイルをスキップします。ディレクティブのない大量のノードをスキップすることで、コンパイルのスピード上げます。

### v-cloak

このプロパティは関連付けられた ViewModel のコンパイルが終了するまでの間残存します。`[v-cloak] { display: none }` のような CSS のルールと組み合わせて、このディレクティブは ViewModel が用意されるまでの間、コンパイルされていない中括弧バインディングを隠すのに使うことができます。
