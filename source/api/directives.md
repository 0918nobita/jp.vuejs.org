title: ディレクティブ
type: api
order: 6
---

## リアクティブディレクティブ

> このディレクティブは、それ自身を Vue インスタンスのプロパティやインスタンスの文脈の中で評価される表現にバインドすることができます。配下のプロパティや表現の値が変更されたら、それらのディレクティブの `update()` 関数が同期的に呼ばれます。

### v-text

ある要素の`textContent`を更新します。

内部的には、&#123;&#123; Mustache &#125;&#125; 表現も textNode 上の `v-text` ディレクティブとしてコンパイルされます。

### v-html

ある要素の `innerHTML` を更新します。

<p class="tip">ユーザによって与えられるデータを含む `v-html` は、危険な可能性があります。データソースのセキュリティが安全であると保証される場合は `v-html` を使うことを勧めますが、それ以外の場合はパイプ(|)を使用して、信頼できない HTML をサニタイズするカスタムフィルタを使用することをお勧めします。</p>

### v-show

- このディレクティブは、表示切り替えのトリガになります。

バインディングの値の真偽値に応じて、要素の display を `none` にしたり、その要素の元の値にしたりします。

### v-class

- このディレクティブは、オプションの引数を受け入れます。

もし何も属性が与えられなかった場合、このディレクティブは要素の classList にバインディングの値を追加し、値が変更されたときに class が更新されます。

もしディレクティブの属性が与えられたら、その属性はバインディングの値の真偽値に応じてトグルする class になります。複数項目の記法と併せると、非常に便利になります:

``` html
<span v-class="
  red    : hasError,
  bold   : isImportant,
  hidden : isHidden
"></span>
```

別な方法としては、直接ディレクティブをオブジェクトにバインドできます。オブジェクトのキーは、クラスのリストは対応する値に基づいてトグルします。

### v-attr

- このディレクティブは、ひとつの属性が必要となります。

要素の(引数によって指定された)属性を更新します。

**例:**

``` html
<canvas v-attr="width:w, height:h"></canvas>
```

0 を除く偽となりうる値は、属性を削除します。
Falsy values except 0 will remove the attribute.

別な方法としては、直接ディレクティブをオブジェクトにバインドできます。オブジェクトのキーは、属性のリストは対応する値に基づいてトグルします。

内部的には、&#123;&#123; Mustache &#125;&#125; 表現の中の引数を computed `v-attr` ディレクティブにコンパイルします。

<p class="tip"> `<img>` 要素上の `src` 要素を設定するときには、Mustache バインディングの代わりに `v-attr` を使用するべきです。テンプレートは Vue.js によってコンパイルされる前にブラウザによってパースされるので、ブラウザがイメージの URL を取得しようとしたときに、Mustache バインディングは 404 エラーの原因になり得ます。</p>

### v-style

- このディレクティブは、オプションの引数を受け入れます。

要素にインライン CSS スタイルを適用します。

引数がないときは、結び付けられた値は String 型にも Object 型にもなり得ます。

- もし String 型の場合、要素の `style.cssText` として設定されます。
- もし Object 型の場合、それぞれの key/value ペアは要素の `style` オブジェクトに設定されます。

**例:**

``` html
<div v-style="myStyles"></div>
```

``` js
// myStyles はStringにもなり得ます
"color:red; font-weight:bold;"
// もしくはObject:
{
  color: 'red',
  // camelCase でも dash-case でも動きます
  fontWeight: 'bold',
  'font-size': '2em'
}
```

引数があるときは、適用する CSS のプロパティとして使用されます。複数項目の表現と併せて、複数のプロパティを同時に設定することができます:

**例:**

``` html
<div v-style="
  top: top + 'px',
  left: left + 'px',
  background-color: 'rgb(0,0,' + bg + ')'
"></div>
```

`v-style` も賢く、ブラウザベンダの接頭辞を特定します。したがって、接頭辞を使わない方法が使えます:

``` html
<!-- 例えば、必要であれば -webkit-transform を使用する -->
<div v-style="transform: 'scale(' + scale + ')'"></div>
```

<p class="tip"> Internet Exploler では、バージョンに関係なく、HTML のパージングの際に不適切なインラインスタイルを削除してしまうため、`style` 要素の中に Mustache バインディングを指定する代わりに、 `v-style` を使用することをお勧めします。</p>

### v-on

- このディレクティブはひとつの引数を必要とします。
- このディレクティブは、関数かステートメントになり得る値を必要とします。

要素にイベントリスナを割り当てます。イベントタイプは引数によって記述されます。 `key` フィルタと一緒に使用することができる唯一のディレクティブです。詳しくは、[イベントのリスニング](/guide/events.html)を参照してください。

### v-model

- このディレクティブは `<input>` 、`<select>` もしくは `<textarea>` 要素においてのみ使用できます。
- ディレクティブのパラメータ: [`lazy`](/guide/forms.html#遅延更新), [`number`](/guide/forms.html#値を数値としてキャストする), [`options`](/guide/forms.html#動的な選択オプション), [`debounce`](/guide/forms.html#入力デバウンス)

form の input 要素に双方向バインディングを作成します。データはデフォルトでは `input` イベント毎に同期されます。
より詳しい例は、[フォームのハンドリング](/guide/forms.html)を参照してください。

### v-if

- このディレクティブは、表示切り替えのトリガになります。

バインディングの値の真偽値に基いて要素の挿入や削除を行います。もし要素が `<template>` 要素であれば、その内容は状態ブロックとして抽出されます。


**例:**

``` html
<template v-if="test">
  <p>hello</p>
  <p>world</p>
</template>
```

は、以下を生成します:

``` html
<!--v-if-start-->
<p>hello</p>
<p>world</p>
<!--v-if-end-->
```

### v-repeat

- このディレクティブは、Vue の子インスタンスを作成します。
- このディレクティブの値は Array 型、Object 型、もしくは Number 型である必要があります。
- このディレクティブは表示切り替えのトリガとなり得ます。
- このディレクティブは、オプション属性を受け入れます。
- ディレクティブパラメータ: [`track-by`](/guide/list.html#track-by_の利用)、[`stagger`](/guide/transitions.html#スタガリングトランジション)、[`enter-stagger`](/guide/transitions.html#スタガリングトランジション)、[`leave-stagger`](/guide/transitions.html#スタガリングトランジション)

Array もしくは Object のバインディングのすべてのアイテムの子 ViewModel を作ります。もし値が絶対値であれば、その分の ViewModel が作成されます。それらの子 ViewModel は変更メソッド、例えば `push()` などが Array や Object 上で呼ばれたときや、その数が増減したときに自動的に生成、削除されます。

引数が何も与えられなかったとき、子 ViewModel は継承された Array の中の要素を `$data` として直接使用します。もし値が Object でなければ、ラッパーのデータオブジェクトが作られ、エイリアスキー `$value` を使用しているオブジェクトにその値がセットされます。

**例:**

``` html
<ul>
  <li v-repeat="users">
    {{name}} {{email}}
  </li>
</ul>
```

引数が与えられたときは、エイリアスキーを引数の文字列としてラッパーのデータオブジェクトが常に作られます。これにより、テンプレート内でのより明示的なプロパティへのアクセスが可能になります:

``` html
<ul>
  <li v-repeat="user : users">
    {{user.name}} {{user.email}}
  </li>
</ul>
```

より詳しい説明は、[リスト表示](/guide/list.html)を参照してください。

### v-callbacks

- このディレクティブは、コンポーネントでのみ使用されます。
- このディレクティブは メソッド名か、または単独の expression statement を受けつけます。

親インスタンスが子インスタンス上でのイベントを監視できるようにします。`v-on` と異なる点は、`v-callbacks` はDOMイベントというよりはむしろ、`vm.$emit()` 経由で作られたVueのコンポーネントシステムのイベントを監視するという点です。このディレクティブは、親のコンポーネントにイベントリスナをハードコードすることなく、親子がより分離された通信をすることを可能にします。root 要素のコンポーネント上で親テンプレートから使用する必要があることに注意してください。

**例:**

``` html
<!-- 親テンプレートの中身 -->
<my-component v-callbacks="change: onChildChange"></my-component>
```

子要素が `this.$emit('change', ...)` を呼ぶとき、親の `onChildChange` が `$emit()` からきたオプションの引数が渡された状態で呼び出されます。

## リテラルディレクティブ

> リテラルディレクティブはその要素の値を素の文字列として取り扱い、何ともバインドしようとしません。このディレクティブが行うのは、文字列の値を `bind()` 関数に渡して実行することだけです。リテラルディレクティブはその値の中で Mustache 表現を使用できますが、それらの表現は最初のコンパイルの際に一度だけ評価され、データの変更に対して反応しません。

### v-transition

- mustache でリアクティブにすることができます。

Vue.js に対してこの要素への変換を適用することを知らせます。変換クラスは、ある変換のきっかけとなるディレクティブが要素を修正したときか、Vue インスタンスの DOM 生成メソッドが呼ばれたときに適用されます。

より詳しくは、[トランジション](/guide/transitions.html)を参照してください。

### v-ref

簡単にアクセス可能なように、親に子コンポーネントへの参照を登録します。コンポーネントや `v-repeat` で動きます。そのコンポーネントのインスタンスは、その親の `$` オブジェクトへアクセス可能です。例は、[コンポーネントシステム(子の参照)](/guide/components.html#子の参照)を参照してください。

`v-repeat` と共に使用するとき、値はそれにバウンドしている配列に対応するすべての子 Vue インスタンスを含む配列になります。

0.12 以降: もし `v-repeat` のソースデータがオブジェクトの場合、`v-ref` はそのオブジェクトの各キーとインスタンスで一致するオブジェクトを返します。

### v-el

簡単にアクセス可能にするために、親の Vue インスタンス上で DOM 要素へのリファレンスを登録します。例えば、`<div v-el="hi">` は `vm.$$.hi` としてアクセス可能です。

## エンプティディレクティブ

> エンプティディレクティブは属性値が必須ではなく、無視します。

### v-pre

この要素とすべての子要素のコンパイルをスキップします。ディレクティブのない大量のノードをスキップすることで、コンパイルのスピード上げます。

### v-cloak

このプロパティは関連付けられた ViewModel のコンパイルが終了するまでの間残存します。`[v-cloak] { display: none }` のような CSS のルールと組み合わせて、このディレクティブは ViewModel が用意されるまでの間、コンパイルされていない Mustache バインディングを隠すのに使うことができます。
