title: ディレクティブ
type: api
order: 6
---

## リアクティブ・ディレクティブ

> このディレクティブは、それ自身をVueインスタンスのプロパティやインスタンスの文脈の中で評価される表現にバインドすることができる。配下のプロパティや表現の値が変更されたら、それらのディレクティブの`update()`関数が非同期的に呼ばれる。

### v-text

ある要素の`textContent`を更新する。

内部的には、&#123;&#123; 中括弧 &#125;&#125; 表現もtextNode上の`v-text`ディレクティブとしてコンパイルされる。

### v-html

ある要素の`innerHTML`を更新する。

<p class="tip">ユーザによって与えられるデータを含む`v-html`は、危険な可能性がある。データソースのセキュリティが安全であると保証される場合は`v-html`を使うことを勧めるが、それ以外の場合はパイプ(|)を使用して、信頼できないHTMLをサニタイズするカスタムフィルタを使用することをお勧めする。</p>

### v-show

- このディレクティブは、表示切り替えのトリガーになる。

要素のdisplayをバインディングの値の真偽値に応じて`none`にしたり、その要素の元の値にしたりする。

### v-class

- このディレクティブは、オプションの引数を受け入れる。

もし何も属性が与えられなかった場合、このディレクティブは要素のclassListにバインディングの値を追加し、値が変更されたときにclassが更新される。

もしディレクティブの属性が与えられたら、その属性はバインディングの値のtruthy-nessに応じてトグルするclassになる。複数項目の記法と併せると、非常に便利になる:

``` html
<span v-class="
  red    : hasError,
  bold   : isImportant,
  hidden : isHidden
"></span>
```

### v-attr

- このディレクティブは、ひとつの属性が必要となる。

要素の(属性によって指定された)設定値を更新する。

**例:**

``` html
<canvas v-attr="width:w, height:h"></canvas>
```

内部的には、&#123;&#123; 中括弧({}) &#125;&#125; 表現の中の引数をcomputed `v-attr`ディレクティブにコンパイルする。

<p class="tip">`<img>`要素上の`src`要素を設定するときには、中括弧バインディングの代わりに`v-attr`を使用するべきである。テンプレートはVue.jsによってコンパイルされる前にブラウザによってパースされるので、ブラウザがイメージのURLを取得しようとしたときに、中括弧バインディングは404エラーの原因になり得る。</p>

### v-style

- このディレクティブは、オプションの引数を受け入れる。

要素にインラインCSSスタイルを適用する。

引数がないときは、結び付けられた値はString型にもObject型にもなり得る。

- もしString型の場合、要素の`style.cssText`として設定される。
- もしObject型の場合、それぞれのkey/valueペアは要素の`style`オブジェクトに設定される。

**例:**

``` html
<div v-style="myStyles"></div>
```

``` js
// myStyles はStringにもなり得る
"color:red; font-weight:bold;"
// もしくはObject:
{
  color: 'red',
  // camelCase でも dash-case でも動く
  fontWeight: 'bold',
  'font-size': '2em'
}
```

引数があるときは、適用するCSSのプロパティとして使用される。複数項目の表現と併せて、複数のプロパティを同時に設定することができる:

**例:**

``` html
<div v-style="
  top: top + 'px',
  left: left + 'px',
  background-color: 'rgb(0,0,' + bg + ')'
"></div>
```

`v-style`も賢く、ブラウザベンダーの接頭辞を特定する。したがって、接頭辞を使わない方法が使える:

``` html
<!-- 例えば、必要であれば -webkit-transform を使用する -->
<div v-style="transform: 'scale(' + scale + ')'"></div>
```

<p class="tip">Internet Explolerでは、バージョンに関係なく、HTMLのパージングの際に不適切なインラインスタイルを削除してしまうため、`style`要素の中に中括弧({})バインディングを指定する代わりに、`v-style`を使用することをお勧めする。</p>

### v-on

- このディレクティブはひとつの要素を必要とする。
- このディレクティブは、関数かステートメントになり得る値を必要とする。

要素にイベントリスナーを割り当てる。イベントタイプは引数によって記述される。`key`フィルターと一緒に使用することができる唯一のディレクティブである。詳しくは、[イベントの監視](/guide/events.html)を参照のこと。

### v-model

- このディレクティブは`<input>`、`<select>`もしくは`<textarea>`要素においてのみ使用できる。
- ディレクティブのパラメーター: `lazy`, `number`, `options`

formのinput要素に双方向バインディングを作成する。データはデフォルトでは`input`イベント毎に同期される。
より詳しい例は、[フォームの操作](/guide/forms.html)を参照されたい。

### v-if

- このディレクティブは、表示切り替えのトリガーになる。

バインディングの値のtruthy-nessに基いて要素の挿入や削除を行う。もし要素が`<template>`要素であれば、その内容は状態ブロックとして抽出される。


**例:**

``` html
<template v-if="test">
  <p>hello</p>
  <p>world</p>
</template>
```

は、以下を生成する:

``` html
<!--v-if-start-->
<p>hello</p>
<p>world</p>
<!--v-if-end-->
```

### v-repeat

- このディレクティブは、Vueの子インスタンスを作成する。
- このディレクティブの値はArray型、Object型、もしくはNumber型である必要がある。
- このディレクティブは表示切り替えのトリガーとなり得る。
- このディレクティブは、オプション属性を受け入れる。
- ディレクティブパラメータ: `trackby`

ArrayもしくはObjectのバインディングのすべてのアイテムの子ViewModelを作る。もし値が絶対値であれば、その分のViewModelが作成される。それらの子ViewModelは、mutating methods、例えば`push()`などがArrayやObject上で呼ばれたときや、その数が増減したときに自動的に生成、削除される。

引数が何も与えられなかったとき、子ViewModelは継承されたArrayの中の要素を`$data`として直接使用する。もし値がobjectでなければ、ラッパーのデータオブジェクトが作られ、エイリアスキー`$value`を使用しているオブジェクトにその値がセットされる。

**例:**

``` html
<ul>
  <li v-repeat="users">
    {{name}} {{email}}
  </li>
</ul>
```

引数が与えられたときは、エイリアスキーを引数の文字列としてラッパーのデータオブジェクトが常に作られる。これにより、テンプレート内でのより明示的なプロパティへのアクセスが可能となる:

``` html
<ul>
  <li v-repeat="user : users">
    {{user.name}} {{user.email}}
  </li>
</ul>
```

より詳しい説明は、[リストの表示](/guide/list.html)を参照されたい。

### v-with

- このディレクティブは、`v-component`とのみ使用される。
- このディレクティブは、keypathだけを許可し、expressionはない。

子ViewModelが親からデータを受け取ることができるようにする。`data`オプションとして使用されるオブジェクトの中で渡すことも可能であるし、個々の親のプロパティを異なるキーで子供に結びつけることも可能である。このディレクティブは、`v-component`とともに使用されなければならない。

オブジェクトの継承の例:

``` js
// 親のデータが以下の様だとする
{
  user: {
    name: 'Foo Bar',
    email: 'foo@bar.com'
  }
}
```

``` html
<my-component v-with="user">
  <!-- `user`がなくてもプロパティにアクセスできる -->
  {{name}} {{email}}
</my-component>
```

個別のプロパティを継承している例（同じデータを使用）:

``` 
<my-component v-with="myName: user.name, myEmail: user.email">
  <!-- 新しいキーで、プロパティにアクセスできる -->
  {{myName}} {{myEmail}}
</my-component>
```

### v-events

- このディレクティブは、`v-component`とのみ使用される。
- このディレクティブはkeypathのみを受けつけ、expressionはない。

親インスタンスが子インスタンス上でのイベントを監視するのを可能にする。`v-on`と異なる点は、`v-events`はDOMイベントというよりはむしろ、`vm.$emit()`経由で作られたVueのコンポーネントシステムのイベントを監視すろという点である。このディレクティブは、親のコンポーネントにイベントリスナーをハードコードすることなく、親子がより分離された通信をすることを可能にする。`v-component`と共に使用する必要があることに注意してほしい。例えば、childコンポーネントのroot要素では以下のようになる。

**例:**

``` html
<!-- 親テンプレートの中身 -->
<div v-component="child" v-events="change: onChildChange"></div>
```

子要素が`this.$emit('change', ...)`を呼ぶとき、親の`onChildChange`が`$emit()`からきたオプションの引数が渡された状態で呼び出される。

## リテラルディレクティブ

> リテラルディレクティブはその要素の値を素の文字列として取り扱い、何ともバインドしようとしない。このディレクティブが行うのは、文字列の値を`bind()`関数に渡して実行することだけである。リテラルディレクティブはその値の中で中括弧表現を使用できるが、それらの表現は最初のコンパイルの際に一度だけ評価され、データの変更に対して反応しない。

### v-component

- ディレクティブパラメーター: `keep-alive`, `wait-for`, `transition-mode`

割り当てられたコンポーネントコンストラクタをもつ子ViewModelとして、この要素をコンパイルする。これは、親からデータを継承するために、`v-with`と共に使用することができる。より詳細な説明は、[コンポーネントシステム](/guide/components.html)を参照されたい。

### v-ref

簡単にアクセス可能なように、親に子コンポーネントへの参照を登録する。`v-component`や`v-repeat`を組み合わせて動く。そのコンポーネントのインスタンスは、その親の`$`オブジェクトへアクセス可能である。例は、 [子の参照](/guide/components.html#Child_Reference)を参照。

`v-repeat`と共に使用するとき、値はそれらがバインドされている配列に対応するすべての子Vueインスタンスを含むArrayになる。

### v-el

簡単なアクセスを可能にするために、あるDOM要素への参照をその親のVueインスタンスに登録する。例えば、`<div v-el="hi">`は`vm.$$.hi`としてアクセス可能になる。

### v-partial

要素のinnerHTMLを登録した部分に置き換える。その部分要素は`Vue.partial()`で登録するか、`partials`オプションの内部に渡すことができる。

`v-partial`内部の中括弧タグが、反応的にする:

``` html
<!-- 内容は、vm.partialIdに基づいて変更される -->
<div v-partial="{{partialId}}"></div>
```

このような記法も使える（リアクティビティはサポートされない）:

``` html
<div>{{> my-partial}}</div>
```

### v-transition

Vue.jsに対してこの要素が変化したことを知らせる。トランジッションクラスは、トランジッションのきっかけになるディレクティブが要素を変更した時か、VueインスタンスのDOM操作用のメソッドが呼ばれた時に適用される。

詳細は、[トランジッションのガイド](/guide/transitions.html)を参照していただきたい。

## 空のディレクティブ

> 空のディレクティブは、属性の値を必要とせず、また無視する。

### v-pre

この要素と、すべての子要素のコンパイルをスキップする。ディレクティブを持たない多数のノードをスキップすることで、コンパイルを高速化することができる。

### v-cloak

このプロパティは関連付けられたViewModelのコンパイルが終了するまでの間、このプロパティが要素上に残る。`[v-cloak] { display: none }`などのCSSのルールと組み合わせることで、このディレクティブはViewModelが準備完了になるまでの間コンパイルされていない中括弧のバインディングを隠すのに使用することができる。
