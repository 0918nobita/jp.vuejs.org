---
title: データバインディング構文
type: guide
order: 4
---

Vue.js は DOM ベースのテンプレートの実装を使用しています。これは、全ての Vue.js テンプレートは本質的に有効で、いくつかの特別な属性で充実させた HTML は解析可能であるということを意味します。これは、Vue のテンプレートは根本的に文字列ベースのテンプレートとは異なるということを念頭においてください。

## 展開

### テキスト

データバインディングの最も基本的な形式は、"Mustache" 構文(2 重中括弧)を使用するテキスト展開です:

``` html
<span>Message: {{ msg }}</span>
```

mustache タグは対応するデータオブジェクトでの `msg` プロパティの値で置き換えられます。またいつでも、データオブジェクトの `msg` プロパティ変更は更新されます。

データ変更が更新されない一度だけ (one-time) の展開を実行できます:

``` html
<span>This will never change: {{* msg }}</span>
```

### 生の HTML

2重中括弧の mustache は HTML ではなく、プレーンなテキストとしてデータを解釈します。リアルな HTML を出力するためには、3重中括弧の mustache を使用する必要があります:

``` html
<div>{{{ raw_html }}}</div>
```

コンテンツは、プレーンな HTML として挿入されます。データバインディングは無視されます。テンプレートの部品の再利用が必要な場合、[partials](/api/#partial) を使用すべきです。

<p class="tip">web サイトで動的に任意の HTML をレンダリングすることは、簡単に [XSS 攻撃](https://en.wikipedia.org/wiki/Cross-site_scripting)につながるので非常に危険なことができます。信頼されたコンテンツにだけ HTML 展開を使用してください。決して、ユーザーによって提供されたコンテンツでは**決して**使用してはいけません。</p>

### 属性

Mustache は HTML 属性内部でも使用することができます:

``` html
<div id="item-{{ id }}"></div>
```

属性の展開が Vue.js ディレクティブと特別な属性では許可されていないということに注意してください。心配しないてください、Vue.js は mustache は間違った場所で使用されているとき、あなたに警告を発生させるでしょう。

## バインディング式

mustache タグ内部に入れたテキストは **バインディング式** と呼ばれています。Vue.js では、バインディング式は、必要に応じて、1つ、または複数のフィルタに続いた、単一の JavaScript 式から構成されています。

### JavaScript 式

これまでは、私達のテンプレートでは単純なプロパティキーにバインディングしていました。しかし、Vue.js は実際にはデータバインディング内部の JavaScript 式の完全にサポートします:

``` html
{{ number + 1 }}

{{ ok ? 'YES' : 'NO' }}

{{ message.split('').reverse().join('') }}
```

これらの式は、Vue インスタンスのオーナーのデータスコープで評価されます。1つ制限として、各バインディングは**単一式**のみ含むことができるということです。なので、以下は動作**しません**:

``` html
<!-- これは文、式ではありません: -->
{{ var a = 1 }}

<!-- フロー制御はどちらも動作しません、三項演算子式を使用します -->
{{ if (ok) { return message } }}
```

### フィルタ

Vue.js　は式の終わりに任意で"フィルタ"を追加することができ、"パイプ(`|`)" シンボルで示します:

``` html
{{ message | capitalize }}
```

ここでは、実際に大文字の値を返すだけの JavaScript 関数である組み込み `capitalize` フィルタを通して、`message` 式の値をパイプしています。Vue.js はいくつかの組み込みフィルタを提供し、後で独自のフィルタを作成する方法について話します。

パイプ構文は JavaScript 構文の一部ではないことに注意してください。したがって、式内部にフィルタを混ぜることはできません。式の終わりにだけ追加することができます。

フィルタはつなぎ合わせることができます:

``` html
{{ message | filterA | filterB }}
```

フィルタはまた引数を取得できます:

``` html
{{ message | filterA 'arg1' arg2 }}
```

フィルタ関数は常に最初の引数として式の値を受け取ります。クォートされないものは式として評価される一方、クォートされた引数はプレーンな文字列として解釈されます。ここでは、プレーンな文字列 `'arg1'` は第2引数としてフィルタに渡され、式 `arg2` の値は評価されて、第3引数として渡されます。

## ディレクティブ

ディレクティブは `v-` 接頭辞による特別な属性です。ディレクティブ属性の値は**バインディング式**であることが期待されるので、JavaScript 式とフィルタで上記で言及したルールについては、ここでも同様に適用されます。ディレクティブの役割は、その式の値が変更するとき、リアクティブに DOM に特殊な動作を適用することです。イントロダクションで見てきた例を検討してみましょう:

``` html
<p v-if="greeting">Hello!</p>
```

ここでは、`v-if` ディレクティブは 式 `greeting` の値が真となるような値に基づいて、`<p>` 要素を削除/挿入します。

### 引数

いくつかのディレクティブは、ディレクティブ名の後に、コロン (:) によって示されることで、"引数"を取得することができます。例えば、`v-bind` ディレクティブは HTML 属性をリアクティブに更新するために使用されます:

``` html
<a v-bind:href="url"></a>
```

ここでは、`href` は、`v-bind` ディレクティブに式 `url` の値に要素の `href` 属性をバインドするように伝える引数です。`{% raw %}href="{{url}}"{% endraw %}` を使用して属性の展開と同様の結果になることを気づいたかもしれません。これは正しいです。実際には、属性の展開は内部では `v-bind` バインディングに翻訳されています。

他の例は DOM イベントをリッスンする `v-on` ディレクティブです:

``` html
<a v-on:click="doSomething">
```

ここでの引数は、DOM イベントをリッスンするためにイベント名です。私達はイベントハンドリングついて、詳細でも話します。

### 修飾子

修飾子 (Modifier) はドット(.)によって表記された特別な接尾辞で、ディレクティブがいくつかの特別な方法でバインドされるべきということを示します。例えば、`.literal` 修飾子はディレクティブに式よりもむしろリテラル文字列として属性値が解釈されるよう伝えます:

``` html
<a v-bind:href.literal="/a/b/c"></a>
```

もちろん、この例は、ディレクティブを使用する代わりに `href="a/b/c"` で同じことができるため、無意味に思われます。ここでの例は、構文をデモするためです。後で修飾子のより実用的な用途を確認します。

## 省略記法

`v- ` 接頭辞はテンプレートにおいて Vue 固有の属性を識別するための視覚的な手がかりとして役にたちます。これは、Vue.js を使用していくつかの既存のマークアップに動的な振舞いを適用するときは便利ですが、いくつか頻繁に使用されるディレクティブに対しては冗長であると感じることができます。同時に、`v-` 接頭辞の必要性は、Vue.js が全てのテンプレートを管理する SPA を構築するとき、大変重要となってきます。したがって、Vue.js は最も頻繁に使用されるディレクティブ `v-bind` と `v-on` の2つに対して、特別な省略記法を提供します:

### `v-bind` 省略記法

``` html
<!-- 完全な構文 -->
<a v-bind:href="url"></a>

<!-- 省略記法 -->
<a :href="url"></a>
```

### `v-on` 省略記法

``` html
<!-- 完全な構文 -->
<a v-on:click="doSomething"></a>

<!-- 省略記法 -->
<a @click="doSomething"></a>
```

それら省略記法は、"valid" な HTML から見るとわずかに異なって見えるかもしれませんが、全ての Vue.js は、ブラウザがそれを正しく解析することをサポートし、そして最終的にレンダリングされたマークアップには表示されません。省略記法は一向に任意ですが、後でその使用方法について詳細を学習するとき、恐らくそれに感謝するでしょう。
