---
title: Vue インスタンス
type: guide
order: 3
---

## コンストラクタ

全ての Vue.js アプリケーションは `Vue` コンストラクタ関数で **root な Vue インスタンス** を作成することによってブートストラップされます:

``` js
var vm = new Vue({
  // オプション
})
```

Vue インスタンスは本質的には [MVVM パターン](https://en.wikipedia.org/wiki/Model_View_ViewModel)で定義されている **ViweModel** で、したがって変数名 `vm` はドキュメントのいたるところで確認するでしょう。

Vue インスタンスをインスタンス化するとき、データに対して、テンプレート、マウントするための要素、メソッド、ライフサイクルコールバック、そしてもっと色々オプションを含んだ **オプションオブジェクト** で伝達する必要があります。完全なオプションのリストは、API リファレンスで見つけることができます。

`Vue` コンストラクタは事前定義されたオプションで再利用可能な **コンポーネントコンストラクタ** を作成するために拡張することができます:

``` js
var MyComponent = Vue.extend({
  // 拡張オプション
})

// `MyComponent` の全てのインスタンスは
// 事前定義されたオプションで作成される
var myComponentInstance = new MyComponent()
```

命令的に拡張されたインスタンスを作成することができますが、ほとんどの場合はカスタム要素としてコンポーネントコンストラクタが登録されていることによって宣言的なテンプレートでそれらを構成することができます。後でコンポーネントシステムの詳細についてお話します。今のところ、全ての Vue.js コンポーネントは本質的には拡張された Vue インスタンスを知っている必要があります。

## プロパティとメソッド

各 Vue インスタンスが**プロキシ**する全てのプロパティは `data` オブジェクトで見つけられます:

``` js
var data = { a: 1 }
var vm = new Vue({
  data: data
})

vm.a === data.a // -> true

// プロパティ設定は、元のデータに影響を与える 
vm.a = 2
data.a // -> 2

// ... そしてその逆
data.a = 3
vm.a // -> 3
```

これらプロキシされたプロパティのみ**リアクティブ**であるということに注意すべきです。インスタンスが作成された後、そのインスタンスに新しいプロパティをアタッチする場合、任意の View の更新をトリガしません。

データのプロパティに加えて、Vue インスタンスはいくつかの役立つインスタンスプロパティとメソッドを公開します。これらプロパティとメソッドはプロキシされたデータプロパティと区別するために`$` で接頭されます。例えば:

``` js
var data = { a: 1 }
var vm = new Vue({
  el: '#example',
  data: data
})

vm.$data === data // -> true
vm.$el === document.getElementById('example') // -> true

// $watch はインスタンスメソッド
vm.$watch('a', function (newVal, oldVal) {
  // このコールバックは `vm.a` が変更するとき呼ばれる
})
```

インスタンスプロパティとメソッドの完全なリストについては、API リファレンスを参考にしてください。

## インスタンスライフサイクル

インスタンスが作成されるとき、各 Vue インスタンスは、一連の初期化ステップを経ます。例えば、テンプレートのコンパイル、そして必要なデータバインディングを作成したりと、データ監視のセットアップを必要とします。その一連の初期化ステップのさなか、私達にカスタムロジックを実行するための機会を与えるような、いくつかの**ライフサイクルフック**を起動します。例えば、`created` フックはインスタンスが作成された後に呼ばれます:

``` js
var vm = new Vue({
  data: {
    a: 1
  },
  created: function () {
    // `this` は vm インスタンスを指します
    console.log('a is: ' + this.a)
  }
})
// -> "a is: 1"
```

インスタンスのライフサイクルの様々な段階で呼ばれる他のフックもあります。例えば、`compiled`、`ready`、そして `destroyed` があります。全てのライフサイクルフックは `this` コンテキストは Vue インスタンスを起動しているそれを指して呼ばれています。一部のユーザーは、Vue.js の世界で "controller" の概念を知りたいと思うかもしれないですが、その答えは Vue.js には controller はないです。コンポーネント向けのカスタムロジックはこれらのライフサイクルの中で分割されることになります。

## ライフサイクルダイアグラム

以下はインスタンスライフサイクルに対するダイアグラムです。今、完全に全て理解する必要はありませんが、このダイアグラムは将来役立つでしょう。

![Lifecycle](/images/lifecycle.png)
